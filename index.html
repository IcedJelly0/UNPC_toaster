<!DOCTYPE html>

	<head>
		<meta charset="UTF-8">
		<title>T0AST3R</title>
	</head>
	<style>
		body{
			background-color:rgb(1, 3, 8);
			margin-top: 0%;
			padding: 0%;
			text-align: center;
		}
		h1{
			color: #ffffff;
			font-weight: 60;
			font-family: monospace;
			font-size: 20px;
			margin-top: -8px;
		}
		h6{
			color: #ffffff;
			font-family: monospace;
			font-size: 20px;
			font-weight: 100;
			margin: 0px;
			transition: 0.2s cubic-bezier(0, 0.9, 0, 0.91);
		}
		
		h6:hover{
			font-size: 4em;
			padding: 0.2em;
		}
		video{
			border-radius: 0.4em;
			border-width: 4em;
			border-color: rgb(1, 3, 8);
			padding: 0.2em;
			background-color: rgb(0, 0, 0);
			border-style: solid;
			transition: all 0.5s cubic-bezier(0, 1.23, 1, 1);
			width: 30em;
			height: 22.5em;
		}
		video:hover{
			border-width: 14em;
			width: 3.6em;
			height: 2.8em;
			padding: 0.1em;
		}
		
	</style>
	<body>
		<canvas id="canvas" width="1" height="1" style="scale: 0;" ></canvas>
		<h1>World's Best Toaster</h1>
		<video autoplay="true" id="video" width="600" height="450"></video>
		<h6 id = "rgbDisplay">JS NOT LOADED</h6>

	
		<script>
			async function getWebCam()
			{
			    try
				{
			        const videoSrc=await navigator.mediaDevices.getUserMedia({video:true});
			        var video=document.getElementById("video");
			        video.srcObject=videoSrc;
			    }
				catch(e)
				{
			        console.log(e);
			    }
			}
			getWebCam();
			var context=canvas.getContext('2d');
			
			
			window.setInterval(function()
			{
			    context.drawImage(video,0,0,1,1);
			    var pixelData = context.getImageData(0,0,1,1)
			    var data = pixelData.data;
			    var pixelColor = "rgb(" + data[0] + ", " + data[1] + ", " + data[2] + ")";
			    document.getElementById('rgbDisplay').innerHTML 
			    = pixelColor;
			    video.setAttribute("style", `border-color: ${String(pixelColor)};`);
				if(((data[0] > -1) && (data[0] < 69)) && ((data[1] > -1) && (data[1] < 69)) && ((data[2] > -1) && (data[2] < 69))) 
				{
					//video.setAttribute("style", `border-color: ${'#ff0000'};`);
					console.log('egg')
					var audio = new Audio('https://www.myinstants.com/media/sounds/beep_1.mp3');
					audio.play();
				}
			}, 50);
		</script>

	</body>
