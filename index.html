<!DOCTYPE html>

	<head>
		<meta charset="UTF-8">
		<title>T0AST3R</title>
	</head>
	<style>
		body{
			background-color:rgb(1, 3, 8);
			margin-top: 0%;
			padding: 0%;
			text-align: center;
		}
		h1{
			color: #ffffff;
			font-weight: 60;
			font-family: monospace;
			font-size:30px;
		}
		h6{
			color: #ffffff;
			font-family: monospace;
			font-size: 20px;
			font-weight: 100;
		}
		video{
			border-radius: 5px;
			border-width: 65px;
			border-color: rgb(1, 3, 8);
			background-color:rgb(0, 0, 0);
			border-style:solid;
		}
		
	</style>
	<body>

		<h1>World's Best Toaster</h1>
		<video autoplay="true" id="video" width="600" height="450"></video>
		<h6 id = "rgbDisplay">JS NOT LOADED</h6>
		<canvas id="canvas" width="1" height="1" ></canvas>

	
		<script>
			async function getWebCam()
			{
			    try
				{
			        const videoSrc=await navigator.mediaDevices.getUserMedia({video:true});
			        var video=document.getElementById("video");
			        video.srcObject=videoSrc;
			    }
				catch(e)
				{
			        console.log(e);
			    }
			}
			getWebCam();
			var context=canvas.getContext('2d');
			
			window.setInterval(function()
			{
			    context.drawImage(video,0,0,1,1);
			    var pixelData = context.getImageData(0,0,1,1)
			    var data = pixelData.data;
			    var pixelColor = "rgb(" + data[0] + ", " + data[1] + ", " + data[2] + ")";
			    document.getElementById('rgbDisplay').innerHTML 
			    = pixelColor;
			    video.setAttribute("style", `border-color: ${String(pixelColor)};`);
				if(((data[0] > 150) && (data[0] < 150)) && (data[1] > 150) && (data[2] > 150)) {
					video.setAttribute("style", `border-color: ${'#ff0000'};`);
					var audio = new Audio('https://www.myinstants.com/media/sounds/vine-boom.mp3');
					audio.play();
				}
			}, 500);
		</script>

	</body>
